{% extends "base.html" %}
{% load static %}
{% block content %}

<!-- === BLOQUE: DETALLE PRODUCTO === -->
<div class="container mt-5">
  <div class="row">
    <div class="col-md-5">
      {% if object.video %}
      <!-- Video del producto -->
      <div class="mb-3">
        <video controls class="img-fluid rounded" style="width: 100%;">
          <source src="{{ object.video.url }}" type="video/mp4">
          Tu navegador no soporta el elemento de video.
        </video>
      </div>
      {% endif %}

      {% if object.image %}
      <img src="{{ object.image.url }}" alt="{{ object.title }}" class="img-fluid rounded">
      {% else %}
      <img src="{% static 'img/no-image.png' %}" alt="Sin imagen" class="img-fluid rounded">
      {% endif %}
    </div>

    <div class="col-md-7">
      <h2>{{ object.title }}</h2>
      <p class="text-muted small mb-2">Categor√≠a: {{ object.category.title }}</p>
      <hr>
      <p>{{ object.description }}</p>

      {% if object.discount_price %}
      <h3 class="mt-3">
        <span class="text-muted" style="text-decoration: line-through;">${{ object.price }}</span>
        <strong class="text-success"> ${{ object.discount_price }}</strong>
      </h3>
      {% else %}
      <h3 class="mt-3">Precio: <strong>${{ object.price }}</strong></h3>
      {% endif %}

      <div class="mt-4">
        <a href="{% url 'core:add-to-cart' object.slug %}" class="btn btn-primary btn-lg w-100">
          Agregar al carrito
        </a>
      </div>
    </div>
  </div>
</div>

{% endblock %}